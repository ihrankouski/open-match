#!/usr/bin/env kubectl apply -f
apiVersion: v1
kind: ConfigMap
metadata:
  name: om-director-profiles
data:
  __empty__.json: |
    {
      "imagename": "gcr.io/open-match-222408/openmatch-mmf:py3",
      "name": "emptyprofilev1",
      "id": "emptyprofile",
      "properties": {
        "pools": [
          {
            "name": "defaultPool",
            "filters": [
              { "name": "europeWest1", "attribute": "region.europe-west1", "minv": "0" }
            ]
          }
        ],
        "rosters": []
      }
    }
  
  testprofile.json: |
    {
      "imagename": "gcr.io/open-match-222408/openmatch-mmf:py3",
      "name": "testprofilev1",
      "id": "testprofile",
      "properties": {
        "pools": [
          {
            "name": "defaultPool",
            "filters": [
              { "name": "europeWest1ElapsedUnder150", "attribute": "region.europe-west1", "maxv": "150" },
              { "name": "silverRanking", "attribute": "mmr.rating", "maxv": "9999", "minv": "1250" }
            ]
          },
          {
            "name": "supportPool",
            "filters": [
              { "name": "europeWest1ElapsedUnder150", "attribute": "region.europe-west1", "maxv": "150" },
              { "name": "silverRanking", "attribute": "mmr.rating", "maxv": "1250", "minv": "950" },
              { "name": "supportRole", "attribute": "role.support", "maxv": "2147483647" }
            ]
          }
        ],
        "rosters": [
          {
            "name": "red",
            "players": [
              { "pool": "defaultPool" },
              { "pool": "defaultPool" },
              { "pool": "defaultPool" },
              { "pool": "defaultPool" },
              { "pool": "defaultPool" },
              { "pool": "defaultPool" },
              { "pool": "defaultPool" },
              { "pool": "defaultPool" }
            ]
          },
          {
            "name": "blu",
            "players": [
              { "pool": "defaultPool" },
              { "pool": "defaultPool" },
              { "pool": "defaultPool" },
              { "pool": "defaultPool" },
              { "pool": "defaultPool" },
              { "pool": "defaultPool" },
              { "pool": "defaultPool" },
              { "pool": "defaultPool" }
            ]
          }
        ]
      }
    }
  
  something.json: |
    {
      "imagename": "gcr.io/open-match-222408/openmatch-mmf:py3",
      "name": "somethingv1",
      "id": "something",
      "properties": {
        "pools": [
          {
            "name": "somePool",
            "filters": [
              { "name": "silverRanking", "attribute": "mmr.rating", "maxv": "1249", "minv": "0" }
            ]
          }
        ],
        "rosters": [
          {
            "name": "red",
            "players": [
              { "pool": "somePool" }
            ]
          },
          {
            "name": "blu",
            "players": [
              { "pool": "somePool" }
            ]
          }
        ]
      }
    }
